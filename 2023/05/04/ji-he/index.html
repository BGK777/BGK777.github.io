<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="集合, 徐飞扬SPACE">
    <meta name="description" content="既然选择了远方便只顾风雨兼程">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>集合 | 徐飞扬SPACE</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="徐飞扬SPACE" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">徐飞扬SPACE</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">徐飞扬SPACE</div>
        <div class="logo-desc">
            
            既然选择了远方便只顾风雨兼程
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/BGK777/BGK777.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/BGK777/BGK777.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/2.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">集合</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Typora/">
                                <span class="chip bg-color">Typora</span>
                            </a>
                        
                            <a href="/tags/Markdown/">
                                <span class="chip bg-color">Markdown</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/javaSE/" class="post-category">
                                javaSE
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-05-04
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2023-05-06
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    6.3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    25 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="1-Java集合框架概述"><a href="#1-Java集合框架概述" class="headerlink" title="1.Java集合框架概述"></a>1.Java集合框架概述</h1><p>1.集合、数组都是对多个数据进行存储操作的结构，简称<strong>Java容器</strong>。</p>
<p>  说明：此时的存储，主要指的是<strong>内存层面的存储</strong>，不涉及到持久化的存储（.txt,.jpg,.avi，数据库中）</p>
<p>2.关于数组</p>
<p>  2.1 数组在存储多个数据方面的特点：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1.</span> 一旦初始化以后，其长度就确定了。

<span class="token number">2.</span> 数组一旦定义好，其元素的类型也就确定了。我们也就只能操作指定类型的数据了。比如：<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr1<span class="token punctuation">;</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr2<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>  2.2 数组在存储多个数据方面的缺点：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1.</span> 一旦初始化以后，其长度就不可修改。

<span class="token number">2.</span> 数组中<span class="token operator">*</span><span class="token operator">*</span>提供的方法非常有限<span class="token operator">*</span><span class="token operator">*</span>，对<span class="token operator">*</span><span class="token operator">*</span>于添加、删除、插入数据等操作，非常不便，同时效率不高。<span class="token operator">*</span><span class="token operator">*</span>

<span class="token number">3.</span> 获取数组中实际元素的个数的需求，数组没有现成的属性或方法可用

<span class="token number">4.</span> 数组存储数据的特点：有序、可重复。对于无序、不可重复的需求，不能满足。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>3.集合框架</p>
<p>|—-Collection接口：<strong>单列集合，用来存储一个一个的对象</strong></p>
<p>  |—-<strong>List</strong>接口：<strong>存储有序的、可重复的数据</strong>。  –&gt;“动态”数组</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">ArrayList</span>、<span class="token class-name">LinkedList</span>、<span class="token class-name">Vector</span>    （实现类）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>  |—-<strong>Set</strong>接口：<strong>存储无序的、不可重复的数据</strong>   –&gt;高中讲的“集合”</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">HashSet</span>、<span class="token class-name">LinkedHashSet</span>、<span class="token class-name">TreeSet</span>    （实现类）<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>|—-Map接口：<strong>双列集合，用来存储一对(key - value)一对的数据   –&gt;高中函数：y = f(x)</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">HashMap</span>、<span class="token class-name">LinkedHashMap</span>、<span class="token class-name">TreeMap</span>、<span class="token class-name">Hashtable</span>、<span class="token class-name">Properties</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>图示：Collection接口继承树</strong></p>
<p><img src="/.io//image.png" alt="image.png"></p>
<p><strong>图示：Map接口继承树</strong></p>
<h1 id="2-Collection接口"><a href="#2-Collection接口" class="headerlink" title="2.Collection接口"></a>2.Collection接口</h1><h2 id="1-Collection接口中的方法的使用"><a href="#1-Collection接口中的方法的使用" class="headerlink" title="1.Collection接口中的方法的使用"></a>1.Collection接口中的方法的使用</h2><p>1、添加 </p>
<p>   <strong>add(Object obj)</strong> </p>
<p>   <strong>addAll(Collection coll)</strong> </p>
<p>2、获取有效元素的个数 </p>
<p>   <strong>int size()</strong> </p>
<p>3、清空集合 </p>
<p>   <strong>void clear()</strong> </p>
<p>4、是否是空集合 </p>
<p>   <strong>boolean isEmpty()</strong> </p>
<p>5、是否包含某个元素 </p>
<p>   **boolean contains(Object obj)**：是通过元素的equals方法来判断是否 是同一个对象 </p>
<p>   **boolean containsAll(Collection c)**：也是调用元素的equals方法来比 较的。拿两个集合的元素挨个比较。</p>
<p>6、删除 </p>
<p>   <strong>boolean remove(Object obj)</strong> ：通过元素的equals方法判断是否是 要删除的那个元素。只会删除找到的第一个元素 </p>
<p>  ![image.png](图片合集/image 1.png)</p>
<p>   **boolean removeAll(Collection coll)**：取当前集合的差集 </p>
<p>7、取两个集合的交集 </p>
<p>   **boolean retainAll(Collection c)**：把交集的结果存在当前集合中，不 影响c </p>
<p>8、集合是否相等 </p>
<p>   <strong>boolean equals(Object obj)</strong> </p>
<p>9、转成对象数组 </p>
<p>   <strong>Object[] toArray()</strong> </p>
<p>10、获取集合对象的哈希值 </p>
<p>   <strong>hashCode()</strong> </p>
<p>11、遍历 </p>
<p>   **iterator()**：返回迭代器对象，用于集合遍历</p>
<ul>
<li><p>代码测试</p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">  @Test
    public void test1(){
        Collection coll = new ArrayList();
  
        //add(Object e):将元素e添加到集合coll中
        coll.add("AA");
        coll.add("BB");
        coll.add(123);//自动装箱
        coll.add(new Date());
  
        //size():获取添加的元素的个数
        System.out.println(coll.size());//4
  
        //addAll(Collection coll1):将coll1集合中的元素添加到当前的集合中
        Collection coll1 = new ArrayList();
        coll1.add(456);
        coll1.add("CC");
        coll.addAll(coll1);
  
        System.out.println(coll.size());//6
        System.out.println(coll);
  
        //clear():清空集合元素
        coll.clear();
  
        //isEmpty():判断当前集合是否为空
        System.out.println(coll.isEmpty());
  public void test1(){
        Collection coll = new ArrayList();
        coll.add(123);
        coll.add(456);
  //        Person p = new Person("Jerry",20);
  //        coll.add(p);
        coll.add(new Person("Jerry",20));
        coll.add(new String("Tom"));
        coll.add(false);
        //1.contains(Object obj):判断当前集合中是否包含obj
        //我们在判断时会调用obj对象所在类的equals()。
        boolean contains = coll.contains(123);
        System.out.println(contains);
        System.out.println(coll.contains(new String("Tom")));
  //        System.out.println(coll.contains(p));//true
        System.out.println(coll.contains(new Person("Jerry",20)));//false --&gt;true
  
        //2.containsAll(Collection coll1):判断形参coll1中的所有元素是否都存在于当前集合中。
        Collection coll1 = Arrays.asList(123,4567);
        System.out.println(coll.containsAll(coll1));
    }
  
    @Test
    public void test2(){
        //3.remove(Object obj):从当前集合中移除obj元素。
        Collection coll = new ArrayList();
        coll.add(123);
        coll.add(456);
        coll.add(new Person("Jerry",20));
        coll.add(new String("Tom"));
        coll.add(false);
  
        coll.remove(1234);
        System.out.println(coll);
  
        coll.remove(new Person("Jerry",20));
        System.out.println(coll);
  
        //4. removeAll(Collection coll1):差集：从当前集合中移除coll1中所有的元素。
        Collection coll1 = Arrays.asList(123,456);
        coll.removeAll(coll1);
        System.out.println(coll);


```java
}

@Test
public void test3(){
    Collection coll = new ArrayList();
    coll.add(123);
    coll.add(456);
    coll.add(new Person("Jerry",20));
    coll.add(new String("Tom"));
    coll.add(false);

    //5.retainAll(Collection coll1):交集：获取当前集合和coll1集合的交集，并返回给当前集合<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>//        Collection coll1 = Arrays.asList(123,456,789);<br>//        coll.retainAll(coll1);<br>//        System.out.println(coll);</p>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//6.equals(Object obj):要想返回true，需要当前集合和形参集合的元素都相同。</span>
<span class="token class-name">Collection</span> coll1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
coll1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
coll1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
coll1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
coll1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
coll1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>coll<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>coll1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Collection</span> coll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//7.hashCode():返回当前对象的哈希值</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>coll<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//8.集合 ---&gt;数组：toArray()</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> coll<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//拓展：数组 ---&gt;集合:调用Arrays类的静态方法asList()</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"AA"</span><span class="token punctuation">,</span> <span class="token string">"BB"</span><span class="token punctuation">,</span> <span class="token string">"CC"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span> arr1 <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>

    <span class="token class-name">List</span> arr2 <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>arr2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>

    <span class="token comment">//9.iterator():返回Iterator接口的实例，用于遍历集合元素。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">


## <span class="token number">2.</span>Iterator迭代器接口

<span class="token number">1.</span><span class="token operator">*</span><span class="token operator">*</span>集合元素的遍历操作，使用迭代器<span class="token class-name">Iterator</span>接口<span class="token operator">*</span><span class="token operator">*</span>

  <span class="token number">1.</span>内部的方法：<span class="token operator">*</span><span class="token operator">*</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>和 remove<span class="token operator">*</span><span class="token operator">*</span>

  <span class="token number">2.</span>集合对象每次调用<span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法都得到一个全新的迭代器对象，默认游标都在集合的第一个元素之前。

  <span class="token number">3.</span>内部定义了<span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>可以在遍历的时候，删除集合中的元素。此方法不同于集合直接调用<span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token number">2.</span><span class="token operator">*</span><span class="token operator">*</span>iterator迭代器的执行原理<span class="token operator">*</span><span class="token operator">*</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Collection</span> coll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Iterator</span> iterator <span class="token operator">=</span> coll<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  		<span class="token comment">//hasNext():判断是否还有下一个元素</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//next():①指针下移 ②将下移以后集合位置上的元素返回</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>![image.png](图片合集/image 2.png)</p>
<ul>
<li><strong>注意</strong>：在调用it.next()方法之前必须要调用it.hasNext()进行检测。若不调用，且 下一条记录无效，直接调用it.next()会抛NoSuchElementException异常。</li>
</ul>
<p>3.Iterator接口<strong>remove()方法</strong></p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">Iterator iter = coll.iterator();//回到起点
while(iter.hasNext()){
	Object obj = iter.next();
	if(obj.equals("Tom")){
		iter.remove();
	}
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>注意： </p>
<p>1.Iterator可以删除集合的元素，但是是遍历过程中<strong>通过迭代器对象的remove方法</strong>，不是集合对象的remove方法。 </p>
<p>2.如果<strong>还未调用next()或在上一次调用 next 方法之后已经调用了 remove 方法</strong>， 再调用remove都会报<strong>IllegalStateException</strong>。</p>
</li>
</ul>
<p>4.使用 <strong>foreach 循环遍历集合元素(增强for循环)</strong></p>
<ul>
<li><p>关于<strong>foreach 循环</strong></p>
<p>1.Java 5.0 提供了 foreach 循环迭代访问 <strong>Collection和数组</strong>。 </p>
<p>2.遍历操作不需获取Collection或数组的长度，无需使用索引访问元素。 </p>
<p>3.遍历集合的<strong>底层调用Iterator</strong>完成操作。 </p>
<p>4.foreach还可以用来遍历数组。</p>
</li>
<li><p>格式</p>
</li>
</ul>
<p>![image.png](图片合集/image 3.png)</p>
<ul>
<li>代码实现</li>
</ul>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">//遍历集合
public void test1(){
        Collection coll = new ArrayList();
        coll.add(123);
        coll.add(456);
        coll.add(new Person("Jerry",20));
        coll.add(new String("Tom"));
        coll.add(false);

        //for(集合元素的类型 局部变量 : 集合对象)
        //内部仍然调用了迭代器。
        for(Object obj : coll){
            System.out.println(obj);
        }
    }
//遍历数组
 public void test2(){
        int[] arr = new int[]{1,2,3,4,5,6};
        //for(数组元素的类型 局部变量 : 数组对象)
        for(int i : arr){
            System.out.println(i);
        }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="3-Collection子接口：-List接口"><a href="#3-Collection子接口：-List接口" class="headerlink" title="3.Collection子接口： List接口"></a>3.Collection子接口： List接口</h2><p><strong>1.List接口框架</strong></p>
<p>  |—-Collection接口：<strong>单列集合，用来存储一个一个的对象</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">List</span>接口：<span class="token operator">*</span><span class="token operator">*</span>存储有序的、可重复的数据<span class="token operator">*</span><span class="token operator">*</span>。  <span class="token operator">--</span><span class="token operator">&gt;</span>“动态”数组<span class="token punctuation">,</span>替换原有的数组

  <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">ArrayList</span>：作为<span class="token class-name">List</span>接口的主要实现类；线<span class="token operator">*</span><span class="token operator">*</span>程不安全的，效率高<span class="token operator">*</span><span class="token operator">*</span>；底层使用<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> elementData（<span class="token operator">*</span><span class="token operator">*</span>数组<span class="token operator">*</span><span class="token operator">*</span>）存储

  <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">LinkedList</span>：对于<span class="token operator">*</span><span class="token operator">*</span>频繁的插入、删除操作，使用此类效率比<span class="token class-name">ArrayList</span>高<span class="token operator">*</span><span class="token operator">*</span>；底层使用<span class="token operator">*</span><span class="token operator">*</span>双向链表<span class="token operator">*</span><span class="token operator">*</span>存储

  <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">Vector</span>：作为<span class="token class-name">List</span>接口的古老实现类；<span class="token operator">*</span><span class="token operator">*</span>线程安全的，效率低<span class="token operator">*</span><span class="token operator">*</span>；底层使用<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> elementData（<span class="token operator">*</span><span class="token operator">*</span>数组<span class="token operator">*</span><span class="token operator">*</span>）存储<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li></li>
</ul>
<p><strong>2.ArrayList的源码分析</strong>：</p>
<p>  2.1 <strong>jdk 7情况下</strong></p>
<p>  ArrayList list = new ArrayList();//底层创建了长度是10的Object[]数组elementData</p>
<p>  list.add(123);//elementData[0] = new Integer(123);</p>
<p>  …</p>
<p>  list.add(11);//如果此次的添加导致底层elementData数组容量不够，则扩容。</p>
<p>  <strong>默认情况下，扩容为原来的容量的1.5倍</strong>，同时需要将原有数组中的数据复制到新的数组中。</p>
<p>  结论：<strong>建议开发中使用带参的构造器：ArrayList list = new ArrayList(int capacity)</strong></p>
<p>  2.2 <strong>jdk 8中ArrayList的变化</strong>：</p>
<p>  ArrayList list = new ArrayList();//底层Object[] elementData初始化为{}.并没有创建长度为10的数组</p>
<p>  list.add(123);//<strong>第一次调用add()时，底层才创建了长度10的数组</strong>，并将数据123添加到elementData[0]</p>
<p>  …</p>
<p>  后续的添加和扩容操作与jdk 7 无异。</p>
<p>  2.3 小结：<strong>jdk7中的ArrayList的对象的创建类似于单例的饿汉式，而jdk8中的ArrayList的对象的创建类似于单例的懒汉式，延迟了数组的创建，节省内存</strong>。</p>
<blockquote>
</blockquote>
<p><strong>3.LinkedList的源码分析</strong>：</p>
<p>  LinkedList list = new LinkedList(); 内部声明了<strong>Node类型的first和last属性</strong>，默认值为null</p>
<p>  list.add(123);//将123封装到Node中，创建了Node对象。</p>
<p>  其中，Node定义为：<strong>体现了LinkedList的双向链表的说法</strong></p>
<ul>
<li><p>双向链表底层代码实现</p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">      private static class Node&lt;E&gt; {
      E item;
      Node&lt;E&gt; next;
      Node&lt;E&gt; prev;
    
      Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {
      this.item = element;
      this.next = next;
      this.prev = prev;
      }
    }
```java



**4.Vector的源码分析：**

  jdk7和jdk8中通过Vector()构造器创建对象时，底层都创建了长度为10的数组。在扩容方面，默认扩容为原来的数组长度的2倍。



**面试题：**ArrayList、LinkedList、Vector三者的异同？

  同：三个类**都是实现了List接口**，存储数据的特点相同：**存储有序的、可重复的数据**

  - 不同：

    |----ArrayList：作为List接口的主要实现类；线程不安全的，效率高；底层使用Object[] elementData存储

    |----LinkedList：对于频繁的插入、删除操作，使用此类效率比ArrayList高；底层使用双向链表存储

    |----Vector：作为List接口的古老实现类；线程安全的，效率低；底层使用Object[] elementData存储



5.List接口中的常用方法

  **void add(int index, Object ele)**:在index位置插入ele元素
boolean addAll(int index, Collection eles):从index位置开始将eles中的所有元素添加进来
**Object get(int index)**:获取指定index位置的元素
int indexOf(Object obj):返回obj在集合中首次出现的位置
int lastIndexOf(Object obj):返回obj在当前集合中末次出现的位置
**Object remove(int index)**:移除指定index位置的元素，并返回此元素
**Object set(int index, Object ele**):设置指定index位置的元素为ele
List subList(int fromIndex, int toIndex):返回从fromIndex到toIndex位置的子集合

- 总结：常用方法
**增**：add(Object obj)
**删**：remove(int index) / remove(Object obj)
**改**：set(int index, Object ele)
**查**：get(int index)
**插**：add(int index, Object ele)
**长度**：size()
**遍历**：

  ① Iterator迭代器方式
② 增强for循环
③ 普通的循环



## 4.Collection子接口： Set接口

1. **Set接口的框架：**

  |----Collection接口：**单列集合，用来存储一个一个的对象**

    |----Set接口：**存储无序的、不可重复的数据**   --&gt;高中讲的“集合”

      |----HashSet：作为Set接口的主要实现类；**线程不安全的；可以存储null值**

        |----LinkedHashSet：作为HashSet的子类；遍历其内部数据时，可以按照添加的顺序遍历,**对于频繁的遍历操作，LinkedHashSet效率高于HashSet.**

      |----TreeSet：**可以按照添加对象的指定属性，进行排序**。



2.Set接口中没有额外定义新的方法，使用的都是Collection中声明过的方法。



**3.关于Set举例HashSet：**

一、**存储无序的、不可重复的数据**
以HashSet为例说明：

  1. **无序性**：**不等于随机性**。存储的数据在底层数组中并非按照数组索引的顺序添加，而是**根据数据的哈希值决定的**。

  2.**不可重复性**：保证添加的元素按照equals()判断时，不能返回true.即：**相同的元素只能添加一个。**

二、添加元素的过程：以HashSet为例：

  我们向HashSet中添加元素a,首先调用元素a所在类的**hashCode()方法**，计算元素a的**哈希值**，
此哈希值接着通过某种算法计算出在**HashSet底层数组中的存放位置**（即为：**索引位置**），判断
数组此位置上是**否已经有元素**：

  如果此位置上没有其他元素，则元素a添加成功。 ---**&gt;情况1**
如果此位置上有其他元素b(或以链表形式存在的多个元素），则比较元素a与元素b的hash值：

    如果hash值不相同，则元素a添加成功。---**&gt;情况2**
如果hash值相同，进而需要调用元素a所在类的equals()方法：

      equals()返回true,元素a添加失败
equals()返回false,则元素a添加成功。---**&gt;情况3**

  对于添加成功的**情况2和情况3**而言：**元素a 与已经存在指定索引位置上数据以链表的方式存储**。
jdk 7 :元素a放到数组中，指向原来的元素。
jdk 8 :原来的元素在数组中，指向元素a
总结：**七上八下**

  HashSet底层：**数组+链表的结构**。

HashSet实现图示：

- 要求：

  1.向Set(主要指：HashSet、LinkedHashSet)中添加的数据，其所在的类**一定要重写hashCode()和equals()**

  2.**重写的hashCode()和equals()尽可能保持一致性**：**相等的对象必须具有相等的散列码（hashCode）**

- 重写两个方法的小技巧：对象中用作 equals() 方法比较的 Field，都应该用来计算 hashCode 值。



**4.LinkedHashSet的使用**

  LinkedHashSet作为HashSet的子类，在添加数据的同时，**每个数据还维护了两个引用**，记录此数据前一个数据和后一个数据。
优点：**对于频繁的遍历操作，LinkedHashSet效率高于HashSet**

- 关于**LinkedHashSet**

  1.LinkedHashSet 根据元素的 hashCode 值来决定元素的存储位置， 但它同时使用双向链表维护元素的次序，这使得元素看起来是以**插入顺序**保存的。 

  2.LinkedHashSet**插入性能略低于 HashSet**，但在**迭代访问 Set 里的全部元素时有很好的性能。** 

  3.LinkedHashSet 不允许集合元素重复。

- LinkedHashSet实现图示：


**5.Set实现类之三：TreeSet**

1.向TreeSet中添加的数据，要求是**相同类的对象**。

- 因为只有相同类的两个实例才会比较大小，所以向 **TreeSet 中添加的应该是同 一个类的对象。**

- 代码测试

  ```Java
public void test1(){
        TreeSet set = new TreeSet();

        //失败：不能添加不同类的对象
//        set.add(123);
//        set.add(456);
//        set.add("AA");
//        set.add(new User("Tom",12));

            //举例一：
//        set.add(34);
//        set.add(-34);
//        set.add(43);
//        set.add(11);
//        set.add(8);

        //举例二：
        set.add(new User("Tom",12));
        set.add(new User("Jerry",32));
        set.add(new User("Jim",2));
        set.add(new User("Mike",65));
        set.add(new User("Jack",33));
        set.add(new User("Jack",56));


        Iterator iterator = set.iterator();
        while(iterator.hasNext()){
            System.out.println(iterator.next());
        }

    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p>![image.png](图片合集/image 4.png)</p>
<p>![image.png](图片合集/image 5.png)</p>
<p>2.两种排序方式：<strong>自然排序（实现Comparable接口）</strong> 和 <strong>定制排序（Comparator）</strong></p>
<ul>
<li>自然排序（实现Comparable接口）</li>
</ul>
<p>  见Comparable章节（<strong>重写comparTo方法</strong>）</p>
<ul>
<li><p>定制排序（Comparator）</p>
</li>
<li><p>代码测试</p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">    public void test2(){
        Comparator com = new Comparator() {
            //按照年龄从小到大排列
            @Override
            public int compare(Object o1, Object o2) {
                if(o1 instanceof User &amp;&amp; o2 instanceof User){
                    User u1 = (User)o1;
                    User u2 = (User)o2;
                    return Integer.compare(u1.getAge(),u2.getAge());
                }else{
                    throw new RuntimeException("输入的数据类型不匹配");
                }
            }
        };
    
        TreeSet set = new TreeSet(com);
        set.add(new User("Tom",12));
        set.add(new User("Jerry",32));
        set.add(new User("Jim",2));
        set.add(new User("Mike",65));
        set.add(new User("Mary",33));
        set.add(new User("Jack",33));
        set.add(new User("Jack",56));


```java
    Iterator iterator = set.iterator();
    while(iterator.hasNext()){
        System.out.println(iterator.next());
    }
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p>![image.png](图片合集/image 6.png)</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">
<span class="token number">3.</span>自然排序中，比较两个对象是否相同的标准为：<span class="token operator">*</span><span class="token operator">*</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回<span class="token number">0.</span>不再是<span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>*<span class="token operator">*</span>


<span class="token number">4.</span>定制排序中，比较两个对象是否相同的标准为：<span class="token operator">*</span><span class="token operator">*</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回<span class="token number">0.</span>不再是<span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>*<span class="token operator">*</span>



<span class="token operator">-</span> <span class="token class-name">TreeSet</span>底层使用<span class="token operator">*</span><span class="token operator">*</span>红黑树<span class="token operator">*</span><span class="token operator">*</span>结构存储数据


# <span class="token number">2.</span>Map接口

<span class="token operator">*</span><span class="token operator">*</span>一、<span class="token class-name">Map</span>的实现类的结构：<span class="token operator">*</span><span class="token operator">*</span>

<span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Map</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span><span class="token operator">*</span><span class="token operator">*</span>双列数据<span class="token operator">*</span><span class="token operator">*</span>，存储<span class="token operator">*</span><span class="token operator">*</span>key<span class="token operator">-</span>value<span class="token operator">*</span><span class="token operator">*</span>对的数据   <span class="token operator">--</span><span class="token operator">-</span>类似于高中的函数：y <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

  <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">HashMap</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>作为<span class="token class-name">Map</span>的<span class="token operator">*</span><span class="token operator">*</span>主要实现类<span class="token operator">*</span><span class="token operator">*</span>；<span class="token operator">*</span><span class="token operator">*</span>线程不安全的，效率高<span class="token operator">*</span><span class="token operator">*</span>；存储<span class="token keyword">null</span>的key和value

    <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">LinkedHashMap</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>保证在遍历map元素时，可以按照<span class="token operator">*</span><span class="token operator">*</span>添加的顺序实现遍历<span class="token operator">*</span><span class="token operator">*</span>。

    原因：在原有的<span class="token class-name">HashMap</span>底层结构基础上，<span class="token operator">*</span><span class="token operator">*</span>添加了一对指针，指向前一个和后一个元素。<span class="token operator">*</span><span class="token operator">*</span>

    对于频繁的遍历操作，此类执行效率高于<span class="token class-name">HashMap</span>。

  <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">TreeMap</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>保证按照添加的key<span class="token operator">-</span>value对进行排序，实现排序遍历

  <span class="token operator">*</span><span class="token operator">*</span>底层使用红黑树<span class="token operator">*</span><span class="token operator">*</span>

  <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Hashtable</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>作为古老的实现类；<span class="token operator">*</span><span class="token operator">*</span>线程安全的，效率低<span class="token operator">*</span><span class="token operator">*</span>；<span class="token operator">*</span><span class="token operator">*</span>不能存储<span class="token keyword">null</span><span class="token operator">*</span><span class="token operator">*</span>的key和value

    <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token class-name">Properties</span><span class="token operator">:</span>常用来处理配置文件。key和value都是<span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">String</span>类<span class="token operator">*</span><span class="token operator">*</span>



<span class="token class-name">HashMap</span>的底层：

  <span class="token operator">*</span><span class="token operator">*</span>数组<span class="token operator">+</span>链表<span class="token operator">*</span><span class="token operator">*</span>  （jdk7及之前）

  <span class="token operator">*</span><span class="token operator">*</span>数组<span class="token operator">+</span>链表<span class="token operator">+</span>红黑树<span class="token operator">*</span><span class="token operator">*</span> （jdk <span class="token number">8</span>）



面试题：

<span class="token number">1.</span> <span class="token class-name">HashMap</span>的底层实现原理？

  见下，三

<span class="token number">1.</span> <span class="token class-name">HashMap</span> 和 <span class="token class-name">Hashtable</span>的异同？

  <span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">HashMap</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>作为<span class="token class-name">Map</span>的主要实现类；<span class="token operator">*</span><span class="token operator">*</span>线程不安全的，效率高<span class="token operator">*</span><span class="token operator">*</span>；存储<span class="token keyword">null</span>的key和value

  <span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Hashtable</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>作为古老的实现类；<span class="token operator">*</span><span class="token operator">*</span>线程安全的，效率低<span class="token operator">*</span><span class="token operator">*</span>；<span class="token operator">*</span><span class="token operator">*</span>不能存储<span class="token keyword">null</span><span class="token operator">*</span><span class="token operator">*</span>的key和value

<span class="token number">1.</span> <span class="token class-name">CurrentHashMap</span> 与 <span class="token class-name">Hashtable</span>的异同？（暂时不讲）



## <span class="token number">1.</span>HashMap（重点）

<span class="token operator">*</span><span class="token operator">*</span><span class="token number">1.</span>结构的理解：<span class="token operator">*</span><span class="token operator">*</span>

<span class="token operator">-</span> <span class="token class-name">Map</span>中的<span class="token operator">*</span><span class="token operator">*</span>key<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span><span class="token operator">*</span><span class="token operator">*</span>无序的、不可重复的<span class="token operator">*</span><span class="token operator">*</span>，使用<span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Set</span><span class="token operator">*</span><span class="token operator">*</span>存储所有的key  <span class="token operator">--</span><span class="token operator">-&gt;</span> key所在的类<span class="token operator">*</span><span class="token operator">*</span>要重写<span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">)</span>和<span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">*</span> （以<span class="token class-name">HashMap</span>为例）

<span class="token operator">-</span> <span class="token class-name">Map</span>中的<span class="token operator">*</span><span class="token operator">*</span>value<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span><span class="token operator">*</span><span class="token operator">*</span>无序的、可重复的<span class="token operator">*</span><span class="token operator">*</span>，使用<span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Collection</span><span class="token operator">*</span><span class="token operator">*</span>存储所有的value <span class="token operator">--</span><span class="token operator">-&gt;</span>value所在的类<span class="token operator">*</span><span class="token operator">*</span>要重写<span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">*</span>

<span class="token operator">-</span> 一个键值对：key<span class="token operator">-</span>value构成了一个<span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Entry</span><span class="token operator">*</span><span class="token operator">*</span>对象。

      <span class="token class-name">Map</span>中的entry<span class="token operator">:</span><span class="token operator">*</span><span class="token operator">*</span>无序的、不可重复的<span class="token operator">*</span><span class="token operator">*</span>，使用<span class="token operator">*</span><span class="token operator">*</span><span class="token class-name">Set</span><span class="token operator">*</span><span class="token operator">*</span>存储所有的entry

<span class="token operator">-</span> 图示：

<span class="token operator">*</span><span class="token operator">*</span><span class="token number">2.</span>HashMap的底层实现原理？<span class="token operator">*</span><span class="token operator">*</span>以jdk7为例说明：

<span class="token class-name">HashMap</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>

<span class="token operator">*</span><span class="token operator">*</span>在实例化以后，底层创建了长度是<span class="token number">16</span>的一维数组<span class="token class-name">Entry</span><span class="token punctuation">[</span><span class="token punctuation">]</span> table。（jdk7）<span class="token operator">*</span><span class="token operator">*</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>可能已经执行过多次put<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key1<span class="token punctuation">,</span>value1<span class="token punctuation">)</span><span class="token operator">:</span>

首先，调用key1所在类的<span class="token operator">*</span><span class="token operator">*</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>计算key1哈希值<span class="token operator">*</span><span class="token operator">*</span>，此哈希值经过某种算法计算以后，<span class="token operator">*</span><span class="token operator">*</span>得到在<span class="token class-name">Entry</span>数组中的存放位置<span class="token operator">*</span><span class="token operator">*</span>。

如果此位置上的数据为空，此时的key1<span class="token operator">-</span>value1添加成功。 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span>情况<span class="token number">1</span><span class="token operator">*</span><span class="token operator">*</span>

如果此位置上的数据不为空，<span class="token punctuation">(</span>意味着此位置上存在一个或多个数据<span class="token punctuation">(</span>以链表形式存在<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>比较<span class="token operator">*</span><span class="token operator">*</span>key1和已经存在的一个或多个数据的哈希值<span class="token operator">*</span><span class="token operator">*</span>：

  如果key1的哈希值与已经存在的数据的哈希值都不相同，此时key1<span class="token operator">-</span>value1添加成功。（<span class="token operator">*</span><span class="token operator">*</span>添加在第一个位置jdk7<span class="token operator">*</span><span class="token operator">*</span>）<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span>情况<span class="token number">2</span><span class="token operator">*</span><span class="token operator">*</span>

  如果key1的哈希值和已经存在的某一个数据<span class="token punctuation">(</span>key2<span class="token operator">-</span>value2<span class="token punctuation">)</span>的哈希值相同，继续比较：调用<span class="token operator">*</span><span class="token operator">*</span>key1所在类的<span class="token function">equals</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">*</span>方法，比较：

    如果<span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回<span class="token boolean">false</span><span class="token operator">:</span>此时key1<span class="token operator">-</span>value1<span class="token operator">*</span><span class="token operator">*</span>添加成功<span class="token operator">*</span><span class="token operator">*</span>（<span class="token operator">*</span><span class="token operator">*</span>添加在第一个位置jdk7<span class="token operator">*</span><span class="token operator">*</span>）。<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">*</span><span class="token operator">*</span>情况<span class="token number">3</span><span class="token operator">*</span><span class="token operator">*</span>

    <span class="token operator">*</span><span class="token operator">*</span>如果<span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回<span class="token boolean">true</span><span class="token operator">:</span>使用value1替换value2（覆盖）<span class="token operator">*</span><span class="token operator">*</span>。

补充：关于<span class="token operator">*</span><span class="token operator">*</span>情况<span class="token number">2</span>和情况<span class="token number">3</span><span class="token operator">*</span><span class="token operator">*</span>：此时key1<span class="token operator">-</span>value1和原来的数据<span class="token operator">*</span><span class="token operator">*</span>以链表的方式存储。<span class="token operator">*</span><span class="token operator">*</span>

在不断的添加过程中，会涉及到扩容问题，当超出<span class="token operator">*</span><span class="token operator">*</span>临界值<span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">(</span>且要存放的位置非空<span class="token punctuation">)</span>时，扩容。默认的扩容方式：扩容为<span class="token operator">*</span><span class="token operator">*</span>原来容量的<span class="token number">2</span>倍<span class="token operator">*</span><span class="token operator">*</span>，<span class="token operator">*</span><span class="token operator">*</span>并将原有的数据复制过来。<span class="token operator">*</span><span class="token operator">*</span>

<span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>jdk7HashMap实现原理图示<span class="token operator">*</span><span class="token operator">*</span>：


<span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>jdk8 相较于jdk7在底层实现方面的不同<span class="token operator">*</span><span class="token operator">*</span>：

  <span class="token number">1.</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>底层<span class="token operator">*</span><span class="token operator">*</span>没有创建一个长度为<span class="token number">16</span>的数组<span class="token operator">*</span><span class="token operator">*</span>

  <span class="token number">2.</span> jdk <span class="token number">8</span>底层的数组是：<span class="token class-name">Node</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>而非<span class="token class-name">Entry</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token number">3.</span> <span class="token operator">*</span><span class="token operator">*</span>首次调用<span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法时<span class="token operator">*</span><span class="token operator">*</span>，<span class="token operator">*</span><span class="token operator">*</span>底层创建长度为<span class="token number">16</span>的数组（类似懒汉式）<span class="token operator">*</span><span class="token operator">*</span>

  <span class="token number">4.</span> jdk7底层结构只有：数组<span class="token operator">+</span>链表。jdk8中底层结构：<span class="token operator">*</span><span class="token operator">*</span>数组<span class="token operator">+</span>链表<span class="token operator">+</span>红黑树。<span class="token operator">*</span><span class="token operator">*</span>

    <span class="token number">4.1</span> 形成链表时，<span class="token operator">*</span><span class="token operator">*</span>七上八下<span class="token operator">*</span><span class="token operator">*</span>（<span class="token operator">*</span><span class="token operator">*</span>jdk7<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">:</span>新的元素指向旧的元素。<span class="token operator">*</span><span class="token operator">*</span>jdk8<span class="token operator">*</span><span class="token operator">*</span>：旧的元素指向新的元素）
<span class="token number">4.2</span> 当数组的某一个索引位置上的元素以链表形式存在的数据个数 <span class="token operator">*</span><span class="token operator">*</span>（链长）<span class="token operator">&gt;</span> <span class="token number">8</span><span class="token operator">*</span><span class="token operator">*</span> 且<span class="token operator">*</span><span class="token operator">*</span>当前数组的长度 <span class="token operator">&gt;</span> <span class="token number">64</span>时<span class="token operator">*</span><span class="token operator">*</span>，此时此索引位置上的所数据<span class="token operator">*</span><span class="token operator">*</span>改为使用红黑树存储<span class="token operator">*</span><span class="token operator">*</span>。

<span class="token operator">-</span> <span class="token operator">*</span><span class="token operator">*</span>jdk8HashMap实现原理图示<span class="token operator">*</span><span class="token operator">*</span>：



<span class="token operator">-</span> 一些专业名词

  <span class="token constant">DEFAULT_INITIAL_CAPACITY</span> <span class="token operator">:</span> <span class="token class-name">HashMap</span>的默认容量，<span class="token number">16</span>

  <span class="token constant">DEFAULT_LOAD_FACTOR</span>：<span class="token class-name">HashMap</span>的<span class="token operator">*</span><span class="token operator">*</span>默认加载因子<span class="token operator">*</span><span class="token operator">*</span>：<span class="token number">0.75</span>

  threshold：<span class="token operator">*</span><span class="token operator">*</span>扩容的临界值<span class="token operator">*</span><span class="token operator">*</span>，<span class="token operator">=</span><span class="token operator">*</span><span class="token operator">*</span>容量<span class="token operator">*</span>填充（加载）因子<span class="token operator">*</span><span class="token operator">*</span>：<span class="token number">16</span> <span class="token operator">*</span> <span class="token number">0.75</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">12</span>

  <span class="token constant">TREEIFY_THRESHOLD</span>：<span class="token class-name">Bucket</span>中<span class="token operator">*</span><span class="token operator">*</span>链表长度<span class="token operator">*</span><span class="token operator">*</span>大于该默认值，转化为红黑树<span class="token operator">:</span><span class="token number">8</span>

  <span class="token constant">MIN_TREEIFY_CAPACITY</span>：<span class="token operator">*</span><span class="token operator">*</span>桶中的<span class="token class-name">Node</span>被树化时最小的hash表容量<span class="token operator">:</span><span class="token number">64</span><span class="token operator">*</span><span class="token operator">*</span>



<span class="token operator">*</span><span class="token operator">*</span><span class="token number">3.</span>子类<span class="token class-name">LinkedHashMap</span>底层实现原理（了解）<span class="token operator">*</span><span class="token operator">*</span>

<span class="token operator">-</span> 与<span class="token class-name">LinkedHashSet</span>类似，<span class="token class-name">LinkedHashMap</span> 可以<span class="token operator">*</span><span class="token operator">*</span>维护 <span class="token class-name">Map</span>的迭代顺序<span class="token operator">*</span><span class="token operator">*</span>：迭代顺序与 <span class="token class-name">Key</span><span class="token operator">-</span><span class="token class-name">Value</span> 对的插入顺序一致

源码中：

```<span class="token class-name">Java</span>
 <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">HashMap<span class="token punctuation">.</span>Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
      <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> before<span class="token punctuation">,</span> after<span class="token punctuation">;</span><span class="token comment">//能够记录添加的元素的先后顺序</span>
      <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> hash<span class="token punctuation">,</span> <span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">,</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">super</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>![image.png](图片合集/image 7.png)</p>
<p>![image.png](图片合集/image 8.png)</p>
<p>![image.png](图片合集/image 9.png)</p>
<p>五、Map中定义的方法：<br>添加、删除、修改操作：</p>
<p>  <strong>Object put(Object key,Object value)：将指定key-value添加到(或修改)当前map对象中</strong><br>void putAll(Map m):将m中的所有key-value对存放到当前map中<br><strong>Object remove(Object key)：移除指定key的key-value对，并返回value</strong><br>void clear()：清空当前map中的所有数据</p>
<p>元素查询的操作：</p>
<p>  <strong>Object get(Object key)：获取指定key对应的value</strong><br>boolean containsKey(Object key)：是否包含指定的key<br>boolean containsValue(Object value)：是否包含指定的value<br><strong>int size()：返回map中key-value对的个数</strong><br>boolean isEmpty()：判断当前map是否为空<br>boolean equals(Object obj)：判断当前map和参数对象obj是否相等</p>
<p>元视图操作的方法：</p>
<p>  <strong>Set keySet()：返回所有key构成的Set集合</strong><br><strong>Collection values()：返回所有value构成的Collection集合<br>Set entrySet()：返回所有key-value对构成的Set集合</strong></p>
<p>总结：常用方法：</p>
<ul>
<li><p>添加：<strong>put(Object key,Object value)</strong></p>
</li>
<li><p>删除：<strong>remove(Object key)</strong></p>
</li>
<li><p>修改：<strong>put(Object key,Object value)</strong></p>
</li>
<li><p>查询：<strong>get(Object key)</strong></p>
</li>
<li><p>长度：<strong>size()</strong></p>
</li>
<li><p>遍历：<strong>keySet() / values() / entrySet()</strong></p>
</li>
</ul>
<h2 id="2-TreeMap（了解）"><a href="#2-TreeMap（了解）" class="headerlink" title="2.TreeMap（了解）"></a>2.TreeMap（了解）</h2><p>1.向TreeMap中添加key-value，要求key<strong>必须是由同一个类创建的对象</strong></p>
<p>2.TreeMap存储 Key-Value 对时，需要根据 key-value 对进行排序。 TreeMap 可以保证所有的 Key-Value 对处于有序状态。 </p>
<p>3.TreeSet底层使用<strong>红黑树结构存</strong>储数据 </p>
<p>4.TreeMap 的 Key 的排序：</p>
<p>  自然排序：TreeMap 的所有的 Key 必须实现 Comparable 接口，而且所有 的 Key 应该是同一个类的对象，否则将会抛出 ClasssCastException </p>
<p>  定制排序：创建 TreeMap 时，传入一个 Comparator 对象，该对象负责对 TreeMap 中的所有 key 进行排序。此时不需要 Map 的 Key 实现 Comparable 接口 </p>
<p>5.TreeMap判断两个key相等的标准：两个key通过compareTo()方法或 者compare()方法返回0。</p>
<h2 id="3-Hashtable-了解"><a href="#3-Hashtable-了解" class="headerlink" title="3.Hashtable(了解)"></a>3.Hashtable(了解)</h2><ul>
<li><p> Hashtable是个古老的 Map 实现类，JDK1.0就提供了。不同于HashMap， Hashtable是线程安全的。 </p>
</li>
<li><p> Hashtable实现原理和HashMap相同，功能相同。底层都使用哈希表结构，查询 速度快，很多情况下可以互用。 </p>
</li>
<li><p> 与HashMap不同，Hashtable 不允许使用 null 作为 key 和 value </p>
</li>
<li><p> 与HashMap一样，Hashtable 也不能保证其中 Key-Value 对的顺序 </p>
</li>
<li><p> Hashtable判断两个key相等、两个value相等的标准，与HashMap一致。</p>
</li>
</ul>
<h2 id="4-Properties-了解"><a href="#4-Properties-了解" class="headerlink" title="4.Properties(了解)"></a>4.Properties(了解)</h2><ul>
<li><p>Properties 类是 <strong>Hashtable 的子类</strong>，该对象用于<strong>处理属性文件</strong></p>
</li>
<li><p>由于属性文件里的 key、value 都是字符串类型，所以 Properties 里的 <strong>key 和 value 都是字符串类型</strong></p>
</li>
<li><p>存取数据时，建议使用setProperty(String key,String value)方法和 getProperty(String key)方法</p>
</li>
</ul>
<p>代码示例：</p>
<p>![image.png](图片合集/image 10.png)</p>
<h2 id="5-Collections工具类"><a href="#5-Collections工具类" class="headerlink" title="5.Collections工具类"></a>5.Collections工具类</h2><ul>
<li>Collections:操作<strong>Collection、Map的工具类</strong></li>
</ul>
<ul>
<li><p>面试题：Collection 和 Collections的区别？</p>
<p>答：Collection是储存单列数据的集合接口，有list，set，v子接口，定义了两种不同的储存方式。</p>
<p>Collections包含很多有关操作集合静态方法，不能实例化，Collections是工具类，服务于集合框架。</p>
</li>
</ul>
<ul>
<li><p>常用方法：</p>
<p>reverse(List)：反转 List 中元素的顺序<br>shuffle(List)：对 List 集合元素进行随机排序<br>sort(List)：根据元素的自然顺序对指定 List 集合元素按升序排序<br>sort(List，Comparator)：根据指定的 Comparator 产生的顺序对 List 集合元素进行排序<br>swap(List，int， int)：将指定 list 集合中的 i 处元素和 j 处元素进行交换</p>
<p>Object max(Collection)：根据元素的自然顺序，返回给定集合中的最大元素<br>Object max(Collection，Comparator)：根据 Comparator 指定的顺序，返回给定集合中的最大元素<br>Object min(Collection)<br>Object min(Collection，Comparator)<br>int frequency(Collection，Object)：返回指定集合中指定元素的出现次数<br>void copy(List dest,List src)：将src中的内容复制到dest中<br>boolean replaceAll(List list，Object oldVal，Object newVal)：使用新值替换 List 对象的所有旧值</p>
</li>
</ul>
<p>Collections 类中提供了多个 synchronizedXxx() 方法，该方法可使将指定集 合包装成线程同步的集合，从而可以解决多线程并发访问集合时的线程安全 问题</p>
<ul>
<li><p>示例：</p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">  //返回的list1即为线程安全的List
        List list1 = Collections.synchronizedList(list);
```java



<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">徐飞扬</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://bgk777.github.io/2023/05/04/ji-he/">http://bgk777.github.io/2023/05/04/ji-he/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">徐飞扬</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Typora/">
                                    <span class="chip bg-color">Typora</span>
                                </a>
                            
                                <a href="/tags/Markdown/">
                                    <span class="chip bg-color">Markdown</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">如果对你有用，可否请我喝杯咖啡~</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/05/08/node-js-guan-yu-ban-ben-yu-dao-de-wen-ti/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="node.js关于版本遇到的问题">
                        
                        <span class="card-title">node.js关于版本遇到的问题</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-05-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Node-js/" class="post-category">
                                    Node.js
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Typora/">
                        <span class="chip bg-color">Typora</span>
                    </a>
                    
                    <a href="/tags/Markdown/">
                        <span class="chip bg-color">Markdown</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/05/04/bgk-shi-xi-jian-li-jian-li-zui-zhong-ban-3.0/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="个人简历">
                        
                        <span class="card-title">个人简历</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-05-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Markdown/" class="post-category">
                                    Markdown
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Typora/">
                        <span class="chip bg-color">Typora</span>
                    </a>
                    
                    <a href="/tags/Markdown/">
                        <span class="chip bg-color">Markdown</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="song"
                   id="1835951859"
                   fixed='true'
                   autoplay='true'
                   theme='#42b983'
                   loop='all'
                   order='list'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2023</span>
            
            <span id="year">2023</span>
            <a href="/about" target="_blank">BGK777</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">7.3k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/BGK777" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:feiyangxu88@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2958079357" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2958079357" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
